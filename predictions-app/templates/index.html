{% extends "layout.html" %}
{% block content %}

<section class="content-section">
	<form method="POST" action="predict">
		<div class="form-group col-lg-12">
			<div class="row">
				{% if results == true and showSearchBox==false %}
				<h3 class="mb-0">
					<button class="btn btn-lg btn-primary" name="modifySearch" value="modifySearch" type="submit">
						<span class="icon"></span>Modify Search
					</button>
				</h3>
				<input type="hidden" name="hiddenZipCode" value={{zipCode}} />
				{% endif %}
				{% if results == false or showSearchBox==true%}
				<div id="collapseOne" class="col-lg-12 search-background collapse show">
					<br>
					<div class="row">
						<div class="col-lg-4 center mx-auto white-label-font">
							<div class="col-lg-12 div-opacity"><label for="zipCode">ZipCode</label></div>
							<input type="number" name="zipCode" maxlength="5" value="{{zipCode}}"
								style="text-align: center;font-weight: bold;" class="form-control"
								id="zipCode" 
								aria-label="With textarea">
								<span class="validity"></span>
						</div>
					<!-- </div> -->
					<!-- <div class="row"> -->
						<div class="col-lg-4 center mx-auto white-label-font">
							<div class="col-lg-12 div-opacity"><label for="sqft">Square feet</label></div>
							<input type="number" name="sqft" maxlength="10" value="{{sqft}}"
								style="text-align: center;font-weight: bold;" class="form-control"
								 name="sqft" 
								aria-label="With textarea">
								<span class="validity"></span>

						</div>
					</div>
					<br>
					<div class="row white-label-font center">
						<div class="col-lg-2 mx-auto">
							<div class="col-lg-12 div-opacity">
								<label for="beds">Beds</label>
							</div>
							<select name="beds" class="form-select dropdown-menu-macos mx-0 shadow"
								style="position: static;">
								<option selected value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
								<option value="10">10</option>
								<option value="11">11</option>
								<option value="12">12</option>
								<option value="13">13</option>
								<option value="14">14</option>
								<option value="15">15</option>
								<option value="16">16</option>
								<option value="17">17</option>
								<option value="18">18</option>
								<option value="19">19</option>
								<option value="20">20</option>
							</select>
						</div>
						<div class="col-lg-2 mx-auto">
							<div class="col-lg-12 div-opacity"><label for="baths">Baths</label></div>
							<select name="baths" class="form-select dropdown-menu-macos mx-0 shadow"
								style="position: static;">
								<option selected value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
								<option value="10">10</option>
								<option value="11">11</option>
								<option value="12">12</option>
								<option value="13">13</option>
								<option value="14">14</option>
								<option value="15">15</option>
								<option value="16">16</option>
								<option value="17">17</option>
								<option value="18">18</option>
								<option value="19">19</option>
								<option value="20">20</option>
								<option value="21">21</option>
								<option value="22">22</option>
								<option value="23">23</option>
								<option value="24">24</option>
								<option value="25">25</option>
							</select>
						</div>
						<div class="col-lg-2 mx-auto">
							<div class="col-lg-12 div-opacity"><label for="baths">Type</label></div>
							<select name="proptype" class="form-select dropdown-menu-macos mx-0 shadow"
								style="position: static;">
								<option selected value="1">Condo</option>
								<option value="2">Multi Family Home</option>
								<option value="3">Single Family Home</option>
								<option value="4">Other</option>
							</select>
						</div>
					</div>
					<br>
					<br>
						<div class="row white-label-font center">
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasStyle">Style</label></div>
								<select name="hasStyle" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasLevel">Level</label></div>
								<select name="hasLevel" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasGarage">Garage</label></div>
								<select name="hasGarage" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasCooling">Cooling</label></div>
								<select name="hasCooling" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
						</div>
					<br>
						<div class="row white-label-font center">
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasElemSchool">Elementary School</label></div>
								<select name="hasElemSchool" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasJunSchool">Junior School</label></div>
								<select name="hasJunSchool" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasHighSchool">High School</label></div>
								<select name="hasHighSchool" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
							<div class="col-lg-2 mx-auto">
								<div class="col-lg-12 div-opacity"><label for="hasListDate">Active</label></div>
								<select name="hasListDate" class="form-select dropdown-menu-macos mx-0 shadow"
									style="position: static;">
									<option selected value="1">Yes</option>
									<option value="0">No</option>
								</select>
							</div>
						</div>
						<br>
					</div>
				</div>
					<br>
					<br>
						<div class="row">
							<div class="col-lg-12 center">
								<button class="btn btn-lg btn-primary" name="makePrediction" value="makePrediction"
									type="submit">
									Search
								</button>
							</div>
						</div>
					<br>
				</div>
				{% endif %}

				{% if results == true %}
				<div class="col-lg-12">
					<br>
					<div class="row">
						<div class="col-lg-12 center div-avg-price-chart">
							<h2>Average House Price in {{zipcode}}</h2>
							<h3>{{ label }}</h3>
							<!--end loop-->
						</div>
					</div>
				</div>
			<br>
			</form>
			<br><br>
				<div>
						{% for house in houses %}
								<!--Loop to iterate houses returned from the search input-->

								<div class="row mb-3 content-box">

									<div class="col-lg-12">
										<div class="pb-3">
											<a href="info/{{ house.row_id}}"><h3> {{ house.streetname }} <br></h3></a>
											<h5> {{ house.city }}, {{ house.state }} 0{{ house.zip }}</h5>
										</div>
										<div class="row center">
											<img src="{{ house.photourl }}" alt={{ house.streetname }}>
											<div class="col-lg-12 content-justify">{{ house.remarks }}</div>
										</div>
										<br>
										<div class="row center">
											<div class="col-lg-2  small"><strong>Days Active: {{ house.dom }}</strong></div>
											<div class="col-lg-2  small"><strong>Type: {{ house.proptype }} </strong></div>
											<div class="col-lg-2  small"><strong>MLS Number:</strong></div>
										</div>
										<div class="row center" >
											<div class="col-lg-2  small"><strong>Bed(s): {{ house.beds }}</strong></div>
											<div class="col-lg-2  small"><strong>Bath(s): {{ house.baths }}</strong></div>
											<div class="col-lg-2  small"><strong>Cooling: {{ house.cooling }}</strong></div>
											<div class="col-lg-2  small"><strong>Garage(s): {{ house.garage }}</strong></div>

										</div>
										<div class="row center">
											<div class="col-lg-2  small"><strong>Age:{{ house.age }} yrs</strong></div>
											<div class="col-lg-2  small"><strong>Sq. Feet: {{ house.sqft }}</strong></div>
										</div>
									</div>
								</div>
						{% endfor %}
					</div>
				</div>
				{% endif %}
			</div>
		</div>
</section>

{% endblock %}